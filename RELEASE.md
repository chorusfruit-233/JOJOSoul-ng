# 发布指南

## 版本管理

项目使用语义化版本控制 (Semantic Versioning)：
- `MAJOR.MINOR.PATCH`
- 例如：`v1.0.0`, `v1.1.0`, `v1.0.1`

## 发布流程

### 1. 创建发布版本

```bash
# 创建并推送版本标签
git tag v1.0.0
git push origin v1.0.0
```

### 2. 自动发布

推送标签后会自动触发 GitHub Actions 执行以下操作：
1. 创建 GitHub Release
2. 构建多平台可执行文件
3. 上传构建产物到 Release
4. 更新最新发布状态

### 3. 支持的平台

- **Windows**: `.exe` 可执行文件 (ZIP 格式)
- **Linux**: 可执行文件 (tar.gz 格式)
- **macOS**: 可执行文件 (tar.gz 格式)

## 夜间构建

项目配置了夜间构建，每天北京时间 10:00 自动运行：
- 运行所有测试
- 检查代码质量
- 构建可执行文件
- 上传构建产物（保留 7 天）
- 更新构建状态

## 手动触发

可以在 GitHub Actions 页面手动触发以下工作流：
- **Release**: 推送标签时自动触发
- **Nightly Build**: 可手动触发测试构建
- **Build**: 推送到 master 分支时自动触发

## 发布检查清单

在发布新版本前，请确认：

- [ ] 所有测试通过
- [ ] 代码格式符合标准
- [ ] 更新了 CHANGELOG.md
- [ ] 更新了版本号（如需要）
- [ ] 测试了核心功能
- [ ] 检查了依赖安全性

## 版本号更新

如果需要在代码中更新版本号：

```python
# 在 JOJOSoul-ng.py 中更新
VERSION = "1.0.0"
```

## 回滚发布

如果发现问题需要回滚：

1. 删除有问题的 Release
2. 删除对应的标签
3. 创建新的修复版本
4. 重新发布

## 下载统计

可以在 GitHub Releases 页面查看各平台的下载统计，了解用户分布情况。